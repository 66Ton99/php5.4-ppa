Description: Add major version number to paths and allow process pools
 to be configured in individual files in /etc/php5/fpm/pool.d/
Origin: vendor
Forwarded: not-needed
Last-Update: 2010-07-30

Index: php-5.3.3/sapi/fpm/php-fpm.conf.in
===================================================================
--- php-5.3.3.orig/sapi/fpm/php-fpm.conf.in
+++ php-5.3.3/sapi/fpm/php-fpm.conf.in
@@ -8,7 +8,7 @@
 ; Include one or more files. If glob(3) exists, it is used to include a bunch of
 ; files from a glob(3) pattern. This directive can be used everywhere in the
 ; file.
-;include=@EXPANDED_SYSCONFDIR@/fpm.d/*.conf
+;include=@EXPANDED_SYSCONFDIR@/php5/fpm/*.conf
 
 ;;;;;;;;;;;;;;;;;;
 ; Global Options ;
@@ -17,11 +17,11 @@
 [global]
 ; Pid file
 ; Default Value: none
-;pid = @EXPANDED_LOCALSTATEDIR@/run/php-fpm.pid
+pid = @EXPANDED_LOCALSTATEDIR@/run/php5-fpm.pid
 
 ; Error log file
 ; Default Value: @EXPANDED_LOCALSTATEDIR@/log/php-fpm.log
-;error_log = @EXPANDED_LOCALSTATEDIR@/log/php-fpm.log
+error_log = @EXPANDED_LOCALSTATEDIR@/log/php5-fpm.log
 
 ; Log level
 ; Possible Values: alert, error, warning, notice, debug
@@ -61,6 +61,10 @@
 ; used in logs and stats. There is no limitation on the number of pools which
 ; FPM can handle. Your system will tell you anyway :)
 
+; To configure the pools it is recommended to have one .conf file per
+; pool in the following directory:
+include=@EXPANDED_SYSCONFDIR@/php5/fpm/pool.d/*.conf
+
 ; Start a new pool named 'www'.
 [www]
 
@@ -138,12 +142,12 @@ pm.max_children = 50
 ; The desired minimum number of idle server processes.
 ; Note: Used only when pm is set to 'dynamic'
 ; Note: Mandatory when pm is set to 'dynamic'
-;pm.min_spare_servers = 5
+pm.min_spare_servers = 5
 
 ; The desired maximum number of idle server processes.
 ; Note: Used only when pm is set to 'dynamic'
 ; Note: Mandatory when pm is set to 'dynamic'
-;pm.max_spare_servers = 35
+pm.max_spare_servers = 35
  
 ; The number of requests each child process should execute before respawning.
 ; This can be useful to work around memory leaks in 3rd party libraries. For
@@ -234,7 +238,7 @@ pm.max_children = 50
  
 ; Chdir to this directory at the start. This value must be an absolute path.
 ; Default Value: current directory or / when chroot
-;chdir = /var/www
+chdir = /var/www
  
 ; Redirect worker stdout and stderr into main error log. If not set, stdout and
 ; stderr will be redirected to /dev/null according to FastCGI specs.
