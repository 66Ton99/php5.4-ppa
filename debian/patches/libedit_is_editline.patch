Index: pkg-php/ext/readline/config.m4
===================================================================
--- pkg-php.orig/ext/readline/config.m4	2009-08-25 15:43:40.000000000 +0200
+++ pkg-php/ext/readline/config.m4	2009-08-25 15:44:03.000000000 +0200
@@ -55,7 +55,7 @@
 elif test "$PHP_LIBEDIT" != "no"; then
 
   for i in $PHP_LIBEDIT /usr/local /usr; do
-    test -f $i/include/readline/readline.h && LIBEDIT_DIR=$i && break
+    test -f $i/include/editline/readline.h && LIBEDIT_DIR=$i && break
   done
 
   if test -z "$LIBEDIT_DIR"; then
Index: pkg-php/ext/readline/readline.c
===================================================================
--- pkg-php.orig/ext/readline/readline.c	2009-08-25 15:43:40.000000000 +0200
+++ pkg-php/ext/readline/readline.c	2009-08-25 15:44:03.000000000 +0200
@@ -33,8 +33,10 @@
 #define rl_completion_matches completion_matches
 #endif
 
+#ifdef HAVE_LIBEDIT
+#include <editline/readline.h>
+#else
 #include <readline/readline.h>
-#ifndef HAVE_LIBEDIT
 #include <readline/history.h>
 #endif
 
